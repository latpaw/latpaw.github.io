<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>Diary 2015-8 - L</title>
  <meta charset="utf-8" />
  <meta name="author" content="latpaw" />
  <meta name="description" content="&lt;TODO: insert your description here&gt;" />
  <meta name="keywords" content="&lt;TODO: insert your keywords here&gt;" />

  <link rel="alternate" title="RSS Feed" href="/rss.xml" type="application/rss+xml">
  <link rel="stylesheet" href="/media/css/main.css" type="text/css">
  <link rel="stylesheet" href="/media/css/posts.css" type="text/css">
</head>

  <body class="container">
<header id="header">
<body>
    <nav class="navbar navbar-default navbar-fixed-top" style="opacity: .9" role="navigation">
        <div class="container-fluid">
<div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">L</a>
        </div>
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="/blog/">Blog</a></li>
          <li><a href="/about/">About</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="https://github.com/latpaw">GitHub</a></li>
        </ul>
</div>
</div>
    </nav>
</body>
</header>

<section id="content" role="main">
    <div id="outline-container-sec-" class="row">
        <div class="col-md-2"></div>
            <h1>Diary 2015-8</h1>
            <div id="outline-container-org5790a44" class="outline-2">
<h2 id="org5790a44">Mon Aug  3 10:39:30 2015</h2>
</div>
<div id="outline-container-orgb93957f" class="outline-2">
<h2 id="orgb93957f">Tue Aug 11 09:34:12 2015</h2>
<div class="outline-text-2" id="text-orgb93957f">
</div><div id="outline-container-org70281b1" class="outline-3">
<h3 id="org70281b1">long time no see</h3>
</div>
<div id="outline-container-org7987558" class="outline-3">
<h3 id="org7987558">mysql</h3>
<div class="outline-text-3" id="text-org7987558">
<p>
alter table hello rename hello2;
</p>

<p>
alter table hello add column world char(40);
</p>

<p>
alter table hello drop column wolrd;
</p>

<p>
alter table hello modify world char(40);
</p>

<p>
alter table hello change column world world2 char(50);
</p>

<p>
show privilges\G
</p>

<p>
show grant for userxxx;
</p>
</div>
</div>
</div>
<div id="outline-container-orgb4c4d32" class="outline-2">
<h2 id="orgb4c4d32">Tue Aug 18 10:18:54 2015</h2>
<div class="outline-text-2" id="text-orgb4c4d32">
</div><div id="outline-container-org1d5e2d0" class="outline-3">
<h3 id="org1d5e2d0">断点续传</h3>
<div class="outline-text-3" id="text-org1d5e2d0">
<p>
在请求的 header 里边添加 RANGE: bytes=2000102-
</p>

<p>
这样可以获取这个位置之后的字节.
</p>

<p>
返回的 header 会把状态码改为206,并添加 Content-Range=bytes 200080-1092839999349/1092839999349
</p>
</div>
</div>
<div id="outline-container-orgd6a111a" class="outline-3">
<h3 id="orgd6a111a">lsof</h3>
<div class="outline-text-3" id="text-orgd6a111a">
<p>
lsof /file
</p>

<p>
lsof -u latpaw
</p>

<p>
lsof -c mysql
</p>

<p>
lsof -i tcp
</p>

<p>
lsof -i :3306
</p>

<p>
lsof -i tcp:80
</p>

<p>
lsof -i -stcp:listen
</p>

<p>
lsof -i -stcp:established
</p>
</div>
</div>
</div>

<div id="outline-container-org619921c" class="outline-2">
<h2 id="org619921c">Wed Aug 19 17:51:48 2015</h2>
<div class="outline-text-2" id="text-org619921c">
</div><div id="outline-container-orgef9cd05" class="outline-3">
<h3 id="orgef9cd05">riak</h3>
<div class="outline-text-3" id="text-orgef9cd05">
</div><div id="outline-container-org71d853f" class="outline-4">
<h4 id="org71d853f">erlexec: HOME not set</h4>
<div class="outline-text-4" id="text-org71d853f">
<p>
在启动脚本里边 export HOME=/var/lib/riak
</p>
</div>
</div>
<div id="outline-container-org2d6c0a2" class="outline-4">
<h4 id="org2d6c0a2">riak-admin diag 检查内容</h4>
</div>
</div>
<div id="outline-container-orgc3fab99" class="outline-3">
<h3 id="orgc3fab99">vulcand</h3>
<div class="outline-text-3" id="text-orgc3fab99">
</div><div id="outline-container-org003c549" class="outline-4">
<h4 id="org003c549">vulcand</h4>
<div class="outline-text-4" id="text-org003c549">
<p>
vulcand 做负载均衡,需要手动添加域名到配置中
</p>

<p>
vulcanctl host  add --name xxx
</p>

<p>
vulcanctl host ls
</p>

<p>
详见 man vulcanctl
</p>
</div>
</div>
</div>

<div id="outline-container-org910bfd2" class="outline-3">
<h3 id="org910bfd2">git</h3>
<div class="outline-text-3" id="text-org910bfd2">
<p>
git describe --tags // 查看当前 tag
</p>

<p>
git tag //查看所有 tag
</p>

<p>
git checkout xxx //检出 tag
</p>

<p>
git tag hello // 添加 tag
</p>
</div>
</div>
</div>

    </div>
</section>


<footer id="footer">
    <br />
</footer>

  </body>
</html>
